<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/style.css" />
    <link
      rel="shortcut icon"
      href="/icons8-controle-16.png"
      type="image/x-icon"
    />

    <title>LevelUp</title>
  </head>
  <body>
    <!-- Cabeçalho -->
    <header>
      <h1>LevelUp</h1>
      <img src="/5087579.png" alt="Login" onclick="openPopup()" />
    </header>

    <!-- Menu de Navegação -->
    <nav>
      <a href="#loja-jogos">Loja de Jogos</a>
      <a href="#area-desenvolvedores">Desenvolvedores</a>
      <a href="#comunidade">Comunidade</a>
      <a href="/suport.html">Suporte</a>
    </nav>

    <div class="search-container">
      <input type="text" id="search" placeholder="Buscar jogos..." />
    </div>

    <!-- Popup de Login -->
    <div id="popupLogin">
      <div class="popup-content">
        <div class="popup-header">Login</div>
        <input type="text" class="login-input" placeholder="Usuário" />
        <input type="password" class="login-input" placeholder="Senha" />
        <div class="captcha-container">
          <div
            id="captchaCheckbox"
            class="captcha-checkbox"
            onclick="toggleCheck()"
          ></div>
          <label class="captcha-label">I'm not a robot</label>
          <img
            class="captcha-image"
            src="/RecaptchaLogo.svg.webp"
            alt="reCAPTCHA logo"
          />
        </div>

        <button class="login-btn">Entrar</button>
        <br /><br />
        <button class="close-btn" onclick="closePopup()">Fechar</button>
      </div>
    </div>

    <div id="popupLoginDev">
      <div class="popup-content">
        <div class="popup-header">Login</div>
        <input type="text" class="login-input" placeholder="Usuário" />
        <input type="password" class="login-input" placeholder="Senha" />
        <div class="captcha-container">
          <div
            id="captchaCheckbox2"
            class="captcha-checkbox"
            onclick="toggleCheck2()"
          ></div>
          <label class="captcha-label">I'm not a robot</label>
          <img
            class="captcha-image"
            src="/RecaptchaLogo.svg.webp"
            alt="reCAPTCHA logo"
          />
        </div>

        <button onclick="abrirOutraPagina()" class="login-btn">Entrar</button>
        <br /><br />
        <button class="close-btn" onclick="closePopup2()">Fechar</button>
      </div>
    </div>

    <div class="baner">
      <img src="/17_10_2024 17_18_29.png" alt="" />
    </div>

    <div class="container">
      <!-- Catálogo de Jogos -->
      <section id="loja-jogos">
        <h2>Catálogo de Jogos</h2>
        <div class="grid" id="games-container">
          <!-- Adicionar mais jogos aqui -->
        </div>
      </section>

      <!-- Área para Desenvolvedores -->
      <section id="area-desenvolvedores">
        <h2>Área para Desenvolvedores</h2>
        <p>
          Publique e gerencie seus jogos, veja estatísticas de vendas e feedback
          dos jogadores.
        </p>
        <button onclick="openPopup2()">Entrar como Desenvolvedor</button>
      </section>

      <!-- Comunidade -->
      <section id="comunidade">
        <h2>Comunidade</h2>
        <p>
          Conecte-se com outros jogadores, compartilhe dicas e deixe seu
          feedback.
        </p>
        <a href="/community.html"><button>Acessar Fórum</button></a>
      </section>
    </div>

    <!-- Rodapé -->
    <footer>
      <p>© 2024 Plataforma de Jogos. Todos os direitos reservados.</p>
      <p>
        Formas de pagamento suportadas: Cartão de Crédito, PayPal, Boleto, PIX
      </p>
    </footer>

    <script>
      function abrirOutraPagina() {
        window.location.href = "devs.html"; // Substitua pelo caminho da página que deseja abrir
      }
      // Função para abrir o popup
      function openPopup() {
        document.getElementById("popupLogin").style.display = "flex";
      }

      function openPopup2() {
        document.getElementById("popupLoginDev").style.display = "flex";
      }

      // Função para fechar o popup
      function closePopup() {
        document.getElementById("popupLogin").style.display = "none";
      }

      function closePopup2() {
        document.getElementById("popupLoginDev").style.display = "none";
      }

      function toggleCheck() {
        const checkbox = document.getElementById("captchaCheckbox");
        checkbox.classList.toggle("checked");

        if (checkbox.classList.contains("checked")) {
          checkbox.innerHTML = "&#10003;"; // Marca de verificado (checkmark)
        } else {
          checkbox.innerHTML = ""; // Remover o checkmark
        }
      }
      function toggleCheck2() {
        const checkbox = document.getElementById("captchaCheckbox2");
        checkbox.classList.toggle("checked");

        if (checkbox.classList.contains("checked")) {
          checkbox.innerHTML = "&#10003;"; // Marca de verificado (checkmark)
        } else {
          checkbox.innerHTML = ""; // Remover o checkmark
        }
      }

      // URL da API - Substitua por uma URL de API de jogos real (ex: RAWG)
      const API_URL =
        "https://api.rawg.io/api/games?key=944e2dd6c8374c34b7d0e0a229a81e05";

      // Função para buscar 12 jogos aleatórios
      async function fetchRandomGames() {
        try {
          const response = await fetch(API_URL);
          const data = await response.json();

          // Selecionar 12 jogos aleatórios
          const randomGames = data.results
            .sort(() => 0.5 - Math.random())
            .slice(0, 12);

          // Para cada jogo, buscar detalhes adicionais
          for (let game of randomGames) {
            await fetchGameDetails(game); // Chama outra função para obter detalhes
          }
        } catch (error) {
          console.error("Erro ao buscar jogos:", error);
        }
      }

      // Função para buscar detalhes do jogo
      async function fetchGameDetails(game) {
        try {
          const response = await fetch(
            `https://api.rawg.io/api/games/${game.id}?key=944e2dd6c8374c34b7d0e0a229a81e05&language=pt-BR`
          );
          const gameDetails = await response.json();
          displayGame(gameDetails); // Exibe o jogo com os detalhes completos
        } catch (error) {
          console.error("Erro ao buscar detalhes do jogo:", error);
        }
      }

      // Função para exibir os jogos dinamicamente com descrição
      function displayGame(game) {
        const gamesContainer = document.getElementById("games-container");

        const gameCard = document.createElement("div");
        gameCard.classList.add("game-card");
        gameCard.innerHTML = `
    <h3>${game.name}</h3>
    <img src="${game.background_image}" alt="${game.name}" />
    <p>Lançado em: ${game.released}</p>
    <p class="sinopse">${game.description || "Sinopse não disponível."}</p>
    <a href="/buy.html"><button>Comprar</button></a>
  `;
        gamesContainer.appendChild(gameCard);
      }

      // Chamar a função para buscar jogos ao carregar a página
      window.onload = fetchRandomGames;
    </script>
  </body>
</html>
